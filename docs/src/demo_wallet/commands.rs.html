<!doctypehtml><html lang=en><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content=rustdoc><meta name=description content="Source of the Rust file `src/commands.rs`."><title>commands.rs - source</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2"href="../static.files/${f}">`).join(""))</script><link href=../static.files/normalize-9960930a.css rel=stylesheet><link href=../static.files/rustdoc-e56847b5.css rel=stylesheet><meta name=rustdoc-vars data-channel=1.91.0 data-current-crate=demo-wallet data-resource-suffix=""data-root-path=../../ data-rustdoc-version="1.91.0 (f8297e351 2025-10-28)"data-search-js=search-e256b49e.js data-settings-js=settings-c38705f0.js data-static-root-path=../static.files/ data-stringdex-js=stringdex-c3e638e9.js data-themes=""><script src=../static.files/storage-e2aeef58.js></script><script src=../static.files/src-script-813739b1.js defer></script><script src=../src-files.js defer></script><script src=../static.files/main-6dc2a7f3.js defer></script><noscript><link href=../static.files/noscript-263c88ec.css rel=stylesheet></noscript><link href=../static.files/favicon-32x32-eab170b8.png rel="alternate icon"type=image/png><link href=../static.files/favicon-044be391.svg rel=icon type=image/svg+xml><body class="rustdoc src"><!--[if lte IE 11]><div class=warning>This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class=sidebar><div class=src-sidebar-title><h2>Files</h2></div></nav><main><section class=content id=main-content><div class=main-heading><h1><div class=sub-heading>demo-wallet/</div>commands.rs</h1></div><div class="digits-3 example-wrap"><pre class=rust><code><a data-nosnippet href=#1 id=1>1</a><span class=kw>use crate</span>::<span class=kw-2>*</span>;
<a data-nosnippet href=#2 id=2>2</a><span class=kw>use </span>clap::Subcommand;
<a data-nosnippet href=#3 id=3>3</a>
<a data-nosnippet href=#4 id=4>4</a><span class=attr>#[derive(Subcommand)]
<a data-nosnippet href=#5 id=5>5</a></span><span class=kw>pub enum </span>Commands {
<a data-nosnippet href=#6 id=6>6</a>    Generate {
<a data-nosnippet href=#7 id=7>7</a>        <span class=attr>#[arg(short, long)]
<a data-nosnippet href=#8 id=8>8</a>        </span>password: String,
<a data-nosnippet href=#9 id=9>9</a>        <span class=attr>#[arg(short, long, default_value = <span class=string>"24"</span>)]
<a data-nosnippet href=#10 id=10>10</a>        </span>words: u32,
<a data-nosnippet href=#11 id=11>11</a>    },
<a data-nosnippet href=#12 id=12>12</a>    Show {
<a data-nosnippet href=#13 id=13>13</a>        <span class=attr>#[arg(short, long)]
<a data-nosnippet href=#14 id=14>14</a>        </span>password: String,
<a data-nosnippet href=#15 id=15>15</a>        <span class=attr>#[arg(short, long, default_value = <span class=string>"0"</span>)]
<a data-nosnippet href=#16 id=16>16</a>        </span>account: u32,
<a data-nosnippet href=#17 id=17>17</a>        <span class=attr>#[arg(long, default_value = <span class=string>"false"</span>)]
<a data-nosnippet href=#18 id=18>18</a>        </span>qr: bool,
<a data-nosnippet href=#19 id=19>19</a>    },
<a data-nosnippet href=#20 id=20>20</a>    Derive {
<a data-nosnippet href=#21 id=21>21</a>        <span class=attr>#[arg(short, long)]
<a data-nosnippet href=#22 id=22>22</a>        </span>password: String,
<a data-nosnippet href=#23 id=23>23</a>        <span class=attr>#[arg(short, long, default_value = <span class=string>"5"</span>)]
<a data-nosnippet href=#24 id=24>24</a>        </span>count: u32,
<a data-nosnippet href=#25 id=25>25</a>    },
<a data-nosnippet href=#26 id=26>26</a>    Mnemonic {
<a data-nosnippet href=#27 id=27>27</a>        <span class=attr>#[arg(short, long)]
<a data-nosnippet href=#28 id=28>28</a>        </span>password: String,
<a data-nosnippet href=#29 id=29>29</a>        <span class=attr>#[arg(long, default_value = <span class=string>"false"</span>)]
<a data-nosnippet href=#30 id=30>30</a>        </span>reveal: bool,
<a data-nosnippet href=#31 id=31>31</a>    },
<a data-nosnippet href=#32 id=32>32</a>    Privatekey {
<a data-nosnippet href=#33 id=33>33</a>        <span class=attr>#[arg(short, long)]
<a data-nosnippet href=#34 id=34>34</a>        </span>password: String,
<a data-nosnippet href=#35 id=35>35</a>        <span class=attr>#[arg(short, long)]
<a data-nosnippet href=#36 id=36>36</a>        </span>chain: String,
<a data-nosnippet href=#37 id=37>37</a>        <span class=attr>#[arg(short, long, default_value = <span class=string>"0"</span>)]
<a data-nosnippet href=#38 id=38>38</a>        </span>account: u32,
<a data-nosnippet href=#39 id=39>39</a>        <span class=attr>#[arg(long, default_value = <span class=string>"false"</span>)]
<a data-nosnippet href=#40 id=40>40</a>        </span>qr: bool,
<a data-nosnippet href=#41 id=41>41</a>    },
<a data-nosnippet href=#42 id=42>42</a>    Convert {
<a data-nosnippet href=#43 id=43>43</a>        <span class=attr>#[arg(short, long)]
<a data-nosnippet href=#44 id=44>44</a>        </span>key: String,
<a data-nosnippet href=#45 id=45>45</a>        <span class=attr>#[arg(long, default_value = <span class=string>"false"</span>)]
<a data-nosnippet href=#46 id=46>46</a>        </span>testnet: bool,
<a data-nosnippet href=#47 id=47>47</a>        <span class=attr>#[arg(short, long, default_value = <span class=string>"false"</span>)]
<a data-nosnippet href=#48 id=48>48</a>        </span>uncompressed: bool,
<a data-nosnippet href=#49 id=49>49</a>    },
<a data-nosnippet href=#50 id=50>50</a>    Restore {
<a data-nosnippet href=#51 id=51>51</a>        <span class=attr>#[arg(short, long)]
<a data-nosnippet href=#52 id=52>52</a>        </span>mnemonic: String,
<a data-nosnippet href=#53 id=53>53</a>        <span class=attr>#[arg(short, long)]
<a data-nosnippet href=#54 id=54>54</a>        </span>password: String,
<a data-nosnippet href=#55 id=55>55</a>    },
<a data-nosnippet href=#56 id=56>56</a>    ChangePassword {
<a data-nosnippet href=#57 id=57>57</a>        <span class=attr>#[arg(short, long)]
<a data-nosnippet href=#58 id=58>58</a>        </span>old: String,
<a data-nosnippet href=#59 id=59>59</a>        <span class=attr>#[arg(short, long)]
<a data-nosnippet href=#60 id=60>60</a>        </span>new: String,
<a data-nosnippet href=#61 id=61>61</a>    },
<a data-nosnippet href=#62 id=62>62</a>    Verify {
<a data-nosnippet href=#63 id=63>63</a>        <span class=attr>#[arg(short, long)]
<a data-nosnippet href=#64 id=64>64</a>        </span>password: String,
<a data-nosnippet href=#65 id=65>65</a>    },
<a data-nosnippet href=#66 id=66>66</a>    Delete {
<a data-nosnippet href=#67 id=67>67</a>        <span class=attr>#[arg(long, default_value = <span class=string>"false"</span>)]
<a data-nosnippet href=#68 id=68>68</a>        </span>confirm: bool,
<a data-nosnippet href=#69 id=69>69</a>    },
<a data-nosnippet href=#70 id=70>70</a>}
<a data-nosnippet href=#71 id=71>71</a>
<a data-nosnippet href=#72 id=72>72</a><span class=kw>pub fn </span>execute_command(command: Commands) -> <span class=prelude-ty>Result</span>&lt;(), Box&lt;<span class=kw>dyn </span>std::error::Error>> {
<a data-nosnippet href=#73 id=73>73</a>    <span class=kw>match </span>command {
<a data-nosnippet href=#74 id=74>74</a>        Commands::Generate { password, words } => {
<a data-nosnippet href=#75 id=75>75</a>            <span class=kw>crate</span>::generate_wallet(<span class=kw-2>&</span>password, words)<span class=question-mark>?</span>;
<a data-nosnippet href=#76 id=76>76</a>        }
<a data-nosnippet href=#77 id=77>77</a>        Commands::Show { password, account, qr } => {
<a data-nosnippet href=#78 id=78>78</a>            <span class=kw>crate</span>::show_wallet(<span class=kw-2>&</span>password, account, qr)<span class=question-mark>?</span>;
<a data-nosnippet href=#79 id=79>79</a>        }
<a data-nosnippet href=#80 id=80>80</a>        Commands::Derive { password, count } => {
<a data-nosnippet href=#81 id=81>81</a>            <span class=kw>crate</span>::derive_multiple_accounts(<span class=kw-2>&</span>password, count)<span class=question-mark>?</span>;
<a data-nosnippet href=#82 id=82>82</a>        }
<a data-nosnippet href=#83 id=83>83</a>        Commands::Mnemonic { password, reveal } => {
<a data-nosnippet href=#84 id=84>84</a>            <span class=kw>crate</span>::export_mnemonic(<span class=kw-2>&</span>password, reveal)<span class=question-mark>?</span>;
<a data-nosnippet href=#85 id=85>85</a>        }
<a data-nosnippet href=#86 id=86>86</a>        Commands::Privatekey { password, chain, account, qr } => {
<a data-nosnippet href=#87 id=87>87</a>            <span class=kw>crate</span>::export_private_key(<span class=kw-2>&</span>password, <span class=kw-2>&</span>chain, account, qr)<span class=question-mark>?</span>;
<a data-nosnippet href=#88 id=88>88</a>        }
<a data-nosnippet href=#89 id=89>89</a>        Commands::Convert { key, testnet, uncompressed } => {
<a data-nosnippet href=#90 id=90>90</a>            convert::run_convert(<span class=kw-2>&</span>key, testnet, uncompressed)<span class=question-mark>?</span>;
<a data-nosnippet href=#91 id=91>91</a>        }
<a data-nosnippet href=#92 id=92>92</a>        Commands::Restore { mnemonic, password } => {
<a data-nosnippet href=#93 id=93>93</a>            <span class=kw>crate</span>::restore_wallet(<span class=kw-2>&</span>mnemonic, <span class=kw-2>&</span>password)<span class=question-mark>?</span>;
<a data-nosnippet href=#94 id=94>94</a>        }
<a data-nosnippet href=#95 id=95>95</a>        Commands::ChangePassword { old, new } => {
<a data-nosnippet href=#96 id=96>96</a>            <span class=kw>crate</span>::change_password(<span class=kw-2>&</span>old, <span class=kw-2>&</span>new)<span class=question-mark>?</span>;
<a data-nosnippet href=#97 id=97>97</a>        }
<a data-nosnippet href=#98 id=98>98</a>        Commands::Verify { password } => {
<a data-nosnippet href=#99 id=99>99</a>            <span class=kw>crate</span>::verify_wallet(<span class=kw-2>&</span>password)<span class=question-mark>?</span>;
<a data-nosnippet href=#100 id=100>100</a>        }
<a data-nosnippet href=#101 id=101>101</a>        Commands::Delete { confirm } => {
<a data-nosnippet href=#102 id=102>102</a>            <span class=kw>crate</span>::delete_wallet(confirm)<span class=question-mark>?</span>;
<a data-nosnippet href=#103 id=103>103</a>        }
<a data-nosnippet href=#104 id=104>104</a>    }
<a data-nosnippet href=#105 id=105>105</a>    <span class=prelude-val>Ok</span>(())
<a data-nosnippet href=#106 id=106>106</a>}</code></pre></div></section></main>
