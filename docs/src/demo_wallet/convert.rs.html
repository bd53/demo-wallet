<!doctypehtml><html lang=en><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content=rustdoc><meta name=description content="Source of the Rust file `src/convert.rs`."><title>convert.rs - source</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2"href="../static.files/${f}">`).join(""))</script><link href=../static.files/normalize-9960930a.css rel=stylesheet><link href=../static.files/rustdoc-e56847b5.css rel=stylesheet><meta name=rustdoc-vars data-channel=1.91.0 data-current-crate=demo_wallet data-resource-suffix=""data-root-path=../../ data-rustdoc-version="1.91.0 (f8297e351 2025-10-28)"data-search-js=search-e256b49e.js data-settings-js=settings-c38705f0.js data-static-root-path=../static.files/ data-stringdex-js=stringdex-c3e638e9.js data-themes=""><script src=../static.files/storage-e2aeef58.js></script><script src=../static.files/src-script-813739b1.js defer></script><script src=../../src-files.js defer></script><script src=../static.files/main-6dc2a7f3.js defer></script><noscript><link href=../static.files/noscript-263c88ec.css rel=stylesheet></noscript><link href=../static.files/favicon-32x32-eab170b8.png rel="alternate icon"type=image/png><link href=../static.files/favicon-044be391.svg rel=icon type=image/svg+xml><body class="rustdoc src"><!--[if lte IE 11]><div class=warning>This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class=sidebar><div class=src-sidebar-title><h2>Files</h2></div></nav><main><section class=content id=main-content><div class=main-heading><h1><div class=sub-heading>demo_wallet/</div>convert.rs</h1></div><div class="digits-2 example-wrap"><pre class=rust><code><a data-nosnippet href=#1 id=1>1</a><span class=kw>use </span>bitcoin::{Network, NetworkKind, PrivateKey, PublicKey, Address};
<a data-nosnippet href=#2 id=2>2</a>
<a data-nosnippet href=#3 id=3>3</a><span class=kw>pub fn </span>run_convert(hex_key: <span class=kw-2>&</span>str, testnet: bool, uncompressed: bool) -> <span class=prelude-ty>Result</span>&lt;(), Box&lt;<span class=kw>dyn </span>std::error::Error>> {
<a data-nosnippet href=#4 id=4>4</a>    <span class=kw>let </span>key_bytes = hex::decode(hex_key.trim_start_matches(<span class=string>"0x"</span>)).map_err(|<span class=kw>_</span>| <span class=string>"Invalid hex key format"</span>)<span class=question-mark>?</span>;
<a data-nosnippet href=#5 id=5>5</a>    <span class=kw>if </span>key_bytes.len() != <span class=number>32 </span>{
<a data-nosnippet href=#6 id=6>6</a>        <span class=kw>return </span><span class=prelude-val>Err</span>(<span class=string>"Private key must be 32 bytes"</span>.into());
<a data-nosnippet href=#7 id=7>7</a>    }
<a data-nosnippet href=#8 id=8>8</a>    <span class=kw>let </span>network = <span class=kw>if </span>testnet { Network::Testnet } <span class=kw>else </span>{ Network::Bitcoin };
<a data-nosnippet href=#9 id=9>9</a>    <span class=kw>let </span>network_kind: NetworkKind = network.into();
<a data-nosnippet href=#10 id=10>10</a>    <span class=kw>let </span>secp = bitcoin::secp256k1::Secp256k1::new();
<a data-nosnippet href=#11 id=11>11</a>    <span class=kw>let </span>sk = bitcoin::secp256k1::SecretKey::from_slice(<span class=kw-2>&</span>key_bytes)<span class=question-mark>?</span>;
<a data-nosnippet href=#12 id=12>12</a>    <span class=kw>let </span>private_key = PrivateKey { compressed: !uncompressed, network: network_kind, inner: sk };
<a data-nosnippet href=#13 id=13>13</a>    <span class=kw>let </span>pk = PublicKey::from_private_key(<span class=kw-2>&</span>secp, <span class=kw-2>&</span>private_key);
<a data-nosnippet href=#14 id=14>14</a>    <span class=kw>let </span>address = Address::p2pkh(pk, network);
<a data-nosnippet href=#15 id=15>15</a>    <span class=kw>let </span>wif = private_key.to_wif();
<a data-nosnippet href=#16 id=16>16</a>    <span class=macro>println!</span>(<span class=string>"\nBitcoin Private Key Conversion"</span>);
<a data-nosnippet href=#17 id=17>17</a>    <span class=macro>println!</span>(<span class=string>"--------------------------------"</span>);
<a data-nosnippet href=#18 id=18>18</a>    <span class=macro>println!</span>(<span class=string>"Network: {}"</span>, <span class=kw>if </span>testnet { <span class=string>"Testnet" </span>} <span class=kw>else </span>{ <span class=string>"Mainnet" </span>});
<a data-nosnippet href=#19 id=19>19</a>    <span class=macro>println!</span>(<span class=string>"Format: {}"</span>, <span class=kw>if </span>uncompressed { <span class=string>"Uncompressed" </span>} <span class=kw>else </span>{ <span class=string>"Compressed" </span>});
<a data-nosnippet href=#20 id=20>20</a>    <span class=macro>println!</span>(<span class=string>"WIF: {}"</span>, wif);
<a data-nosnippet href=#21 id=21>21</a>    <span class=macro>println!</span>(<span class=string>"Address: {}"</span>, address);
<a data-nosnippet href=#22 id=22>22</a>    <span class=macro>println!</span>(<span class=string>"--------------------------------\n"</span>);
<a data-nosnippet href=#23 id=23>23</a>    <span class=prelude-val>Ok</span>(())
<a data-nosnippet href=#24 id=24>24</a>}</code></pre></div></section></main> 
